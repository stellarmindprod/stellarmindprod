{% extends "layout.html" %}

{% block title %}Forgot Password{% endblock %}

{% block head %}
    {{ super() }}
    <style>
        .forgot-password-container {
            max-width: 400px;
            margin: 2rem auto;
            padding: 2.5rem;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .forgot-password-container .icon {
             font-size: 2.5rem;
             color: #ffc107; /* Warning color */
             margin-bottom: 1rem;
        }
        .forgot-password-container h1 { font-size: 1.8rem; margin-bottom: 0.75rem; color: #212529; }
        .forgot-password-container p { color: #6c757d; margin-bottom: 1.5rem; }
        .input-group { margin-bottom: 1.5rem; position: relative; text-align: left; }
        .input-group i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #adb5bd; }
        .input-group input { width: 100%; padding: 12px 12px 12px 40px; border: 1px solid #ced4da; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
         .input-group input:focus { border-color: #86b7fe; box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25); outline: none; }
        .btn-reset { width: 100%; padding: 12px; background-color: #ffc107; color: #212529; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background-color 0.3s ease; font-weight: 600; }
        .btn-reset:hover { background-color: #e0a800; }
        .back-link { margin-top: 1.5rem; font-size: 0.9rem; }
        .back-link a { color: #0d6efd; text-decoration: none; font-weight: 500; }
        .back-link a:hover { text-decoration: underline; }
    </style>
{% endblock %}

{% block content %}
<div class="forgot-password-container">
    <div class="icon"><i class="fas fa-key"></i></div>
    <h1>Forgot Password?</h1>
    <p>No worries! Enter your username or registered email below to receive reset instructions.</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
            {% for category, message in messages %}
                <div class="alert alert-{{ category or 'info' }}">{{ message }}</div>
            {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('forgot_password_page') }}">
         <div class="input-group">
            <input type="text" id="username_or_email" name="username_or_email" placeholder="Username or Email" required aria-label="Username or Email">
            <i class="fas fa-envelope"></i>
        </div>
        <button type="submit" class="btn-reset">Send Reset Link</button>
    </form>
    <p class="back-link">Remembered your password? <a href="{{ url_for('login_page') }}">Login</a></p>
</div>
{% endblock %}